<ion-content>
  <div class="logo-section">
    <div class="logo-container">
      <div class="logo-text">
        <span class="action-text">ACTION</span>
        <span class="ou-text">ou</span>
        <span class="verite-text">VÉRITÉ</span>
      </div>
    </div>
  </div>

  <div class="ion-padding">

    <div class="form-section fade-in">
      <ion-item>
        <ion-label>Pseudo</ion-label>
        <ion-input
          [(ngModel)]="pseudo"
          placeholder="Tapez votre pseudo"
          [maxlength]="20">
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-label>Gender</ion-label>
        <ion-select
          [(ngModel)]="genre"
          placeholder="Choisissez votre genre"
          interface="popover">
          <ion-select-option value="homme">{{ playerGender.male }}</ion-select-option>
          <ion-select-option value="femme">{{ playerGender.female }}</ion-select-option>
        </ion-select>
      </ion-item>

      <ion-button
        expand="full"
        (click)="addPlayer()"
        [disabled]="!pseudo || !genre"
        class="validate-button">
        Ajoutez un joueur
      </ion-button>
    </div>

    @if (players.length > 0) {
      <div class="players-section fade-in">
        <h2>Joueurs enregistrés ({{ players.length }})</h2>
        <ion-list>
          @for (player of players; track player.id;) {
            <ion-item class="fade-in">
              <div>
                <strong>{{ player.name }}</strong>
                <br>
                <small>{{ player.gender }}</small>
              </div>
              <ion-button
                fill="clear"
                color="danger"
                slot="end"
                (click)="removePlayer(player.id)">
                Retirer
              </ion-button>
            </ion-item>
          }
        </ion-list>
        <ion-button
          expand="full"
          color="danger"
          (click)="removeAllPlayers()">
          Supprimer tous les joueurs
        </ion-button>
      </div>
    }

    <ion-button
      expand="full"
      [disabled]="players.length < 2"
      (click)="startGame()"
      class="start-button">
      @if (players.length < 2) {
        Ajoutez des joueurs pour démarrer la partie
      } @else {
        Démarrer la partie ({{ players.length }} joueurs)
      }
    </ion-button>

  </div>
</ion-content>
